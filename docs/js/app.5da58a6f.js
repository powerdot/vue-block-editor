(function(t){function e(e){for(var i,n,s=e[0],l=e[1],c=e[2],d=0,u=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&u.push(r[n][0]),r[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);f&&f(e);while(u.length)u.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],i=!0,n=1;n<o.length;n++){var s=o[n];0!==r[s]&&(i=!1)}i&&(a.splice(e--,1),t=l(l.s=o[0]))}return t}var i={},n={app:0},r={app:0},a=[];function s(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-21d72e66":"9ef96acb","chunk-2a32150e":"963b3097","chunk-3645437a":"b3a66540","chunk-4be601a3":"2cf3588f","chunk-d13bf9e0":"b4ae8760"}[t]+".js"}function l(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.e=function(t){var e=[],o={"chunk-21d72e66":1,"chunk-2a32150e":1,"chunk-d13bf9e0":1};n[t]?e.push(n[t]):0!==n[t]&&o[t]&&e.push(n[t]=new Promise((function(e,o){for(var i="css/"+({}[t]||t)+"."+{"chunk-21d72e66":"7ca5d125","chunk-2a32150e":"6c212f50","chunk-3645437a":"31d6cfe0","chunk-4be601a3":"31d6cfe0","chunk-d13bf9e0":"b10522cc"}[t]+".css",r=l.p+i,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var c=a[s],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===i||d===r))return e()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){c=u[s],d=c.getAttribute("data-href");if(d===i||d===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var i=e&&e.target&&e.target.src||r,a=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=i,delete n[t],f.parentNode.removeChild(f),o(a)},f.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){n[t]=0})));var i=r[t];if(0!==i)if(i)e.push(i[2]);else{var a=new Promise((function(e,o){i=r[t]=[e,o]}));e.push(i[2]=a);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=s(t);var u=new Error;c=function(e){d.onerror=d.onload=null,clearTimeout(f);var o=r[t];if(0!==o){if(o){var i=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",u.name="ChunkLoadError",u.type=i,u.request=n,o[1](u)}r[t]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},l.m=t,l.c=i,l.d=function(t,e,o){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(o,i,function(e){return t[e]}.bind(null,i));return o},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/vue-block-editor/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var f=d;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0e94":function(t,e,o){},"297d":function(t,e,o){"use strict";o("29c2")},"29c2":function(t,e,o){},"4a9b":function(t,e,o){},"4e6d":function(t,e,o){"use strict";o("b9b4")},"508d":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);var i=o("2b0e"),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},r=[],a=(o("5c0b"),o("2877")),s={},l=Object(a["a"])(s,n,r,!1,null,null,null),c=l.exports,d=o("8c4f"),u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("h1",[t._v("Block Editor Demo")]),o("block-editor",{ref:"blockEditor",staticClass:"my-block-editor",attrs:{blocksExclude:["calc"],layout:{menu:!0,propertyEditor:!0,history:!1,editor:!0}},on:{Compiled:t.BlocksCompiled,Imported:t.BlocksImported}},[o("textEditorBlock",{attrs:{name:"Text Editor"}}),o("contactForm",{attrs:{name:"Contact Form",proto_id:"_rnd_link_sb"}}),o("youtubeBlock",{attrs:{name:"YouTube video",proto_id:"_rnd_ytvid"}}),o("dividerBlock",{attrs:{name:"Divider",proto_id:"_rnd_div"}}),o("insideBlock",{attrs:{name:"Block with BlockEditor",proto_id:"_rnd_bwb"}})],1),o("div",{staticClass:"darkScreen"},[o("h2",[t._v("How does it works?")]),o("div",{staticClass:"step"},[t._m(0),t._m(1),o("div",{staticClass:"code"},[o("VueEmbedGist",{attrs:{"gist-id":"0646e77ecb334a26699cd3e29dec0b6e"}})],1)]),o("div",{staticClass:"step"},[t._m(2),t._m(3),o("div",{staticClass:"code"},[o("VueEmbedGist",{attrs:{"gist-id":"2de3b1366c1436f4caa208b843640b25"}})],1)]),o("div",{staticClass:"step"},[t._m(4),t._m(5),o("div",{staticClass:"code"},[o("VueEmbedGist",{attrs:{"gist-id":"367d7107a3619ae857110995aca63ecc"}})],1)]),o("a",{staticClass:"to_gh",attrs:{href:"https://github.com/powerdot/vue-block-editor",target:"_blank",rel:"noopener noreferrer"}},[t._v("Go to GitHub page for Documentation.")])]),o("svg",{staticClass:"lightWave",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"}},[o("path",{attrs:{fill:"#f3f4f5","fill-opacity":"1",d:"M0,0L48,21.3C96,43,192,85,288,101.3C384,117,480,107,576,90.7C672,75,768,53,864,53.3C960,53,1056,75,1152,74.7C1248,75,1344,53,1392,42.7L1440,32L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"}})]),t._m(6)],1)},f=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"top"},[o("span",{staticClass:"number"},[t._v("1")]),o("div",{staticClass:"title"},[t._v("Create a block")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"middle"},[t._v(" Write your own block in the "),o("b",[t._v(".vue")]),t._v(" file."),o("br"),t._v(" The block has its own syntax: "),o("ul",[o("li",[t._v("The root element must be a "),o("b",[t._v("block-content")]),t._v(" element;")]),o("li",[t._v("You can specify the properties of the block settings in the "),o("b",[t._v("propertyPopup")]),t._v(" element with an title;")]),o("li",[t._v("Don't modify "),o("b",[t._v("setData")]),t._v(", "),o("b",[t._v("getData")]),t._v(" and "),o("b",[t._v("slotMounted")]),t._v(" methods submitted by template.")])]),t._v(" Just look at the example below, it's template: ")])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"top"},[o("span",{staticClass:"number"},[t._v("2")]),o("div",{staticClass:"title"},[t._v("Import BlockEditor")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"middle"},[t._v(" Just import "),o("b",[t._v("BlockEditor and styles")]),t._v(" to any .vue file in your project."),o("br"),t._v(" Just look at the example below: ")])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"top"},[o("span",{staticClass:"number"},[t._v("3")]),o("div",{staticClass:"title"},[t._v("Pass your Block to BlockEditor")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"middle"},[t._v(" Import it and pass as a "),o("b",[t._v("slot")]),t._v(" with name."),o("br"),t._v(" Just look at the example below: ")])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"footer"},[o("a",{attrs:{target:"_blank",href:"https://github.com/powerdot"}},[t._v("@powerdot's GitHub")]),t._v(" | "),o("a",{attrs:{target:"_blank",href:"https://getwaves.io/"}},[t._v("GetWaves")])])}],h=o("d3f0"),p=o("5693"),v=o.n(p),m={name:"Home",title:"BlockEditor Demo",components:{BlockEditor:h["a"],VueEmbedGist:v.a,textEditorBlock:function(){return o.e("chunk-3645437a").then(o.bind(null,"563b"))},contactForm:function(){return o.e("chunk-2a32150e").then(o.bind(null,"1bd7"))},insideBlock:function(){return o.e("chunk-4be601a3").then(o.bind(null,"10d0"))},youtubeBlock:function(){return o.e("chunk-d13bf9e0").then(o.bind(null,"6738"))},dividerBlock:function(){return o.e("chunk-21d72e66").then(o.bind(null,"4571"))}},data:function(){return{}},methods:{BlocksCompiled:function(t){console.log("BlocksCompiled",t)},BlocksImported:function(){console.log("Blocks Imported!")}},mounted:function(){}},b=m,y=(o("4e6d"),o("b5d4"),Object(a["a"])(b,u,f,!1,null,"296fcaf6",null)),g=y.exports;i["a"].use(d["a"]);var k=[{path:"/",name:"Home",component:g}],_=new d["a"]({mode:"history",base:"/vue-block-editor/",routes:k}),E=_,B=o("2f62");i["a"].use(B["a"]);var w=new B["a"].Store({state:{},mutations:{},actions:{},modules:{}});function C(t){var e=t.$options.title;if(e)return"function"===typeof e?e.call(t):e}i["a"].config.productionTip=!1,i["a"].mixin({created:function(){var t=C(this);t&&(document.title=t)}}),new i["a"]({router:E,store:w,render:function(t){return t(c)}}).$mount("#app")},"5c0b":function(t,e,o){"use strict";o("9c0c")},"69cf":function(t,e,o){"use strict";o("4a9b")},7710:function(t,e,o){"use strict";o("da06")},"9c0c":function(t,e,o){},b5d4:function(t,e,o){"use strict";o("0e94")},b6d4:function(t,e,o){"use strict";o("508d")},b9b4:function(t,e,o){},d3f0:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:["container","light"].concat(Object.keys(t.layout_options).filter((function(e){return t.layout_options[e]})).map((function(t){return t+"_enabled"}))),style:{"grid-template-columns":(t.layout_options.menu?"2fr":"")+" "+(t.layout_options.editor?"8fr":"")+" "+(t.layout_options.propertyEditor?"2fr":"")}},[t.layout_options.menu?o("div",{class:{blocks:!0}},t._l(t.availableBlocks,(function(e){var i;return o("draggable",{key:e.tag,staticClass:"dragArea list-group",attrs:{list:[e],draggable:".item",group:{name:"block_editor",pull:"clone",put:!1},clone:t.cloneBlockProto,move:t.moveBlock}},[o("div",{class:(i={item:!0,active:e.active},i["slot-draggable-"+e.tag]=!0,i.item=!0,i)},[t._v(" "+t._s(e.name)+" ")])])})),1):t._e(),t.layout_options.editor?o("div",{class:{editor:!0,mainEditor:t.isThisMainEditor,blockEditorSelected:t.blockEditorSelected},on:{click:t.editorClick}},[t.layout_options.history?[o("div",{staticClass:"history"},[o("button",{staticClass:"history_button undo",on:{click:t.HistoryUndo}},[o("svg",{staticClass:"bi bi-arrow-return-left",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[o("path",{attrs:{"fill-rule":"evenodd",d:"M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5z"}})])]),o("button",{staticClass:"history_button redo",on:{click:t.HistoryRedo}},[o("svg",{staticClass:"bi bi-arrow-return-right",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[o("path",{attrs:{"fill-rule":"evenodd",d:"M1.5 1.5A.5.5 0 0 0 1 2v4.8a2.5 2.5 0 0 0 2.5 2.5h9.793l-3.347 3.346a.5.5 0 0 0 .708.708l4.2-4.2a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 8.3H3.5A1.5 1.5 0 0 1 2 6.8V2a.5.5 0 0 0-.5-.5z"}})])]),o("span",{staticStyle:{"margin-left":"10px","font-size":"10pt",position:"relative",top:"-2px",opacity:"0.5"}},[t._v("Step: "+t._s(null==t.history.step?"last":t.history.step)+"/"+t._s(t.history.compiled.length))])])]:t._e(),o("draggable",{class:["dragArea","list-group"].concat(t.draggableClasses),attrs:{draggable:".item",group:"block_editor","ghost-class":"ghost",touchStartThreshold:20,move:t.moveBlock},on:{start:t.BlockDragStart,end:t.BlockDragEnd,add:t.BlockDragAdded},model:{value:t.editor,callback:function(e){t.editor=e},expression:"editor"}},[t._l(t.editor,(function(e,i){return o("div",{key:e.id,class:["item","slot-draggable-"+e.tag],attrs:{tag:e.tag,block_id:e.id},on:{click:function(o){return t.SlotClick(e,o)}}},[o("add-block",{attrs:{newBlockIndex:i,availableBlocks:t.availableBlocks,copyBuffer:t.mainEditor().copyBuffer,editorTags:t.activeTags},on:{addBlock:t.modalMenuAddBlock,pasteBlocks:t.pasteBlocks}}),o("div",{class:{block:!0,selected:e.selected},attrs:{id:e.id}},[o("SlotRender",{ref:e.id,refInFor:!0,attrs:{tag:e.tag,block_id:e.id},on:{slotMounted:t.slotMounted}},[t._t("default")],2)],1),o("div",{class:{removeBlock:!0},on:{click:function(o){return t.removeBlockFromEditor(o,e)}}},[o("svg",{staticClass:"bi bi-x",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[o("path",{attrs:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"}})])]),o("div",{class:{copyBlock:!0},on:{click:function(o){return t.copyBlock(o,e)}}},[o("svg",{staticClass:"bi bi-clipboard",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[o("path",{attrs:{d:"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"}}),o("path",{attrs:{d:"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"}})])])],1)})),o("add-block",{attrs:{availableBlocks:t.availableBlocks,first:0==t.editor.length,copyBuffer:t.mainEditor().copyBuffer,editorTags:t.activeTags},on:{addBlock:t.modalMenuAddBlock,pasteBlocks:t.pasteBlocks}})],2)],2):t._e(),t.layout_options.propertyEditor?o("div",{staticClass:"propedit"},[t.selectedBlock?[o("SlotRender",{key:"render_prop_"+t.selectedBlock.id,ref:"render_prop"+t.selectedBlock.id,attrs:{tag:t.selectedBlock.tag,block_id:t.selectedBlock.id,dataRef:t.selectedBlock.ref}},[t._t("default")],2)]:t._e()],2):t._e()])},n=[];function r(t,e){var o;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=a(t))||e&&t&&"number"===typeof t.length){o&&(t=o);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return s=t.done,t},e:function(t){l=!0,r=t},f:function(){try{s||null==o.return||o.return()}finally{if(l)throw r}}}}function a(t,e){if(t){if("string"===typeof t)return s(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,i=new Array(e);o<e;o++)i[o]=t[o];return i}function l(t,e){var o=t.find((function(t){return t.tag==e}));return o}function c(t,e,o,i){var n=l(t.$slots.default,o);return n||(n=l(t.mainEditor().$slots.default,o)),n&&(n=e("div",n.children)),n||(n=e("div",[i])),t.error=!0,n}var d={name:"slot-render",render:function(t){var e=this,o=this.mainEditor().errorTypes,i=this.mainEditor().registeredEditors.map((function(t){var e;return null===(e=t.$slots)||void 0===e?void 0:e.default})).flat().filter((function(t){return t})).filter((function(t){return!o.includes(t.tag)})),n=i.find((function(t){var o;return(null===(o=t.componentOptions||t.asyncMeta)||void 0===o?void 0:o.tag)==e.tag}));if(n){var r=void 0,a=n.asyncMeta?n.asyncFactory():n.asyncFactory;return a||(a=n.componentOptions.Ctor.extendOptions),a?(r=this.dataRef?this.dataRef[0]?this.dataRef[0].error?c(this,t,"propertyEditorTemplateError","There is problem with template."):t(a,{class:"show_property_popup",attrs:{isPropEditor:"yes"}},this.$slots.default):t("div"):t(a,this.$slots.default),r):t("div")}return console.log(this),console.log("REGISTERED EDITORS",this.mainEditor().registeredEditors),c(this,t,"templateError","Block template not found. Try to add it as a slot to this block-editor element.")},props:["tag","block_id","dataRef"],data:function(){return{setDataQuery:[],isSlotMounted:!1,error:!1,_cachedMainEditor:null}},methods:{getData:function(){if(this.$children[0])return this.$children[0].getData?this.$children[0].getData():JSON.parse(JSON.stringify(this.$children[0].$data))},setData:function(t){if(this.isSlotMounted)return this._setData(t);this.setDataQuery.push(t)},slotMounted:function(t){var e,o=null===(e=t.$children[0].$vnode.componentOptions)||void 0===e?void 0:e.Ctor.extendOptions.name,i=!1;if("block-content"!=o&&(console.warn("Root component of block template must be <block-content>."),i=!0),this.dataRef){var n=this.dataRef[0].$children[0];n?t._data=n._data:(console.warn("Component not mounted"),i=!0)}if(this.error=i||this.error,this.isSlotMounted=!0,t.$forceUpdate(),!this.dataRef){var a,s=r(this.setDataQuery);try{for(s.s();!(a=s.n()).done;){var l=a.value;this._setData(l)}}catch(c){s.e(c)}finally{s.f()}}return this.$emit("slotMounted",{block_id:this.block_id,module:t,error:i})},_setData:function(t){if(0!=this.$children.length)return this.$children[0].setData?this.$children[0].setData(t):new Error("SlotRender: missing method setData() in ".concat(this.tag," template."))},unselectAllChildren:function(t,e){if(0!=this.$children.length&&this.$children[0]){var o,i=r(this.$children[0].$children[0].$children);try{for(i.s();!(o=i.n()).done;){var n=o.value;"block-editor"==n.$vnode.componentOptions.Ctor.extendOptions.name&&n.unselectAllChildren(t,e)}}catch(a){i.e(a)}finally{i.f()}}},mainEditor:function(){if(this._cachedMainEditor)return this._cachedMainEditor;for(var t=[],e=this.$parent;;){if(!e.$vnode)break;if("block-editor"==e.$vnode.componentOptions.Ctor.extendOptions.name&&t.push(e),!e.$parent)break;e=e.$parent}var o=t.slice(-1)[0];return o||(o=this),this._cachedMainEditor=o,o}},mounted:function(){}},u=o("0c69"),f=o.n(u),h=o("d4cb"),p=o.n(h),v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:{addBlock:!0,createFirst:t.first}},[o("div",{staticClass:"line"}),o("div",{staticClass:"plusButton"},[o("svg",{staticClass:"bi bi-plus-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[o("path",{attrs:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}}),o("path",{attrs:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"}})]),o("div",{staticClass:"blockMenuModal"},[t.editorTags.find((function(e){return t.copyBuffer.map((function(t){return t.tag})).includes(e)}))?[o("div",{staticClass:"item block paste",on:{click:t.paste}},[o("svg",{staticClass:"bi bi-files",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[o("path",{attrs:{d:"M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z"}})]),t._v(" Paste ")])]:t._e(),t._l(t.availableBlocks.filter((function(e){return t.editorTags.includes(e.tag)})),(function(e){return o("div",{key:e.tag+"_menuModalBlock",staticClass:"item block",on:{click:function(o){return t.modalMenuAddBlock(o,e)}}},[t._v(" "+t._s(e.name)+" ")])}))],2)])])},m=[],b={name:"block-editor-add-block",components:{},props:{newBlockIndex:{type:Number,default:void 0},availableBlocks:{type:Array,default:function(){return[]}},first:{type:Boolean,default:!1},copyBuffer:{type:Array,default:function(){return[]}},editorTags:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{modalMenuAddBlock:function(t,e){this.$emit("addBlock",e,this.newBlockIndex),t.stopPropagation(),t.preventDefault()},paste:function(t,e){this.$emit("pasteBlocks",this.copyBuffer,this.newBlockIndex),t.stopPropagation(),t.preventDefault()}}},y=b,g=(o("b6d4"),o("2877")),k=Object(g["a"])(y,v,m,!1,null,"fb13876a",null),_=k.exports;function E(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function B(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?E(Object(o),!0).forEach((function(e){w(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):E(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function w(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function C(t,e){var o;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=S(t))||e&&t&&"number"===typeof t.length){o&&(t=o);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return a=t.done,t},e:function(t){s=!0,r=t},f:function(){try{a||null==o.return||o.return()}finally{if(s)throw r}}}}function M(t){return D(t)||$(t)||S(t)||O()}function O(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(t,e){if(t){if("string"===typeof t)return A(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?A(t,e):void 0}}function $(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function D(t){if(Array.isArray(t))return A(t)}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,i=new Array(e);o<e;o++)i[o]=t[o];return i}function x(t){return x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function T(t){var e=0;if("object"==x(t))if(Array.isArray(t))t.map((function(t){return e+=T(t)}));else for(var o=0,i=Object.keys(t);o<i.length;o++){var n=i[o],r=t[n];"block_editor"!=n&&"data"!=n||("block_editor"==n&&e++,e+=T(r))}return e}var I=["propertyEditorTemplateError","templateError"],j={name:"block-editor",components:{SlotRender:d,draggable:f.a,addBlock:_},directives:{clickOutside:p.a},props:{layout:{type:Object,default:function(){return{menu:!1,editor:!0,history:!1,propertyEditor:!1}}},historyLength:{type:Number,default:14},values:{type:Array,default:function(){return[]}},blocksInclude:{type:Array,default:function(){return[]}},blocksExclude:{type:Array,default:function(){return[]}}},data:function(){return{availableBlocks:[],editor:[],slotsMounted:0,slotsMustBeMounted:0,layout_options:{menu:!1,editor:!0,history:!1,propertyEditor:!1},selectedBlock:null,_cachedMainEditor:null,selectBlockAfterMount:[],setDataToBlockAfterMount:[],copyBuffer:[],registeredEditors:[],errorTypes:I,draggableClasses:[],activeTags:[],isThisMainEditor:null,history:{compiled:[],step:null},blockEditorSelected:!1}},methods:{moveBlock:function(t){var e=M(t.to.classList),o=M(t.dragged.classList).filter((function(t){return t.includes("slot-draggable")}))[0],i=e.includes(o);return i},modalMenuAddBlock:function(t,e){var o=this.addBlockToEditor(t,e,!0);this.selectBlockAfterMount.push(o)},slotMounted:function(t){var e,o=this,i=C(this.selectBlockAfterMount);try{var n=function(){var i=e.value;i.id==t.block_id&&(o.SlotClick(i),o.selectBlockAfterMount=o.selectBlockAfterMount.filter((function(t){return t.id!=i.id})))};for(i.s();!(e=i.n()).done;)n()}catch(l){i.e(l)}finally{i.f()}var r,a=C(this.setDataToBlockAfterMount);try{var s=function(){var e=r.value;e.id==t.block_id&&(o.$refs[e.id][0].setData(e.data),o.setDataToBlockAfterMount=o.setDataToBlockAfterMount.filter((function(t){return t.id!=e.id})))};for(a.s();!(r=a.n()).done;)s()}catch(l){a.e(l)}finally{a.f()}this.isThisEditorIsMain()?(this.slotsMounted++,this.slotsMustBeMounted==this.slotsMounted&&this.Imported()):this.mainEditor().slotMounted(t)},addBlockToEditor:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=JSON.parse(JSON.stringify(t));return i.id=i.id||this.parseID(i),delete i.data,i.selected=!1,"undefined"!=typeof e?this.editor.splice(e,0,i):this.editor.push(i),this.mainEditor().editorChanged(o),i},removeBlockFromEditor:function(t,e){this.editor=this.editor.filter((function(t){return t.id!=e.id})),this.mainEditor().setSelectedBlock(null),this.mainEditor().unselectInBlockEditor(!1,!0,!0),this.mainEditor().editorChanged(!0),t.stopPropagation()},copyBlock:function(t,e){var o=JSON.parse(JSON.stringify(this.editor)).find((function(t){return t.id==e.id}));delete o.selected,delete o.id,o.data=this.$refs[e.id][0].getData(),this.mainEditor().addToCopyBuffer(o)},addToCopyBuffer:function(t){this.copyBuffer=[],this.copyBuffer.push(t),this.$forceUpdate()},pasteBlocks:function(t,e){console.log("pasteBlocks",this.$el,t,e);var o,i=0,n=C(t);try{for(n.s();!(o=n.n()).done;){var r=o.value,a=void 0;a="undefined"!=typeof e?this.addBlockToEditor(r,e+i,!0):this.addBlockToEditor(r,void 0,!0),this.selectBlockAfterMount.push(a),this.setDataToBlockAfterMount.push(B(B({},a),{},{data:r.data})),i++}}catch(s){n.e(s)}finally{n.f()}},cloneBlockProto:function(t){var e=JSON.parse(JSON.stringify(t));return e.id=this.parseID(e),e},parseID:function(t){return t.proto_id?t.proto_id.replace(/rnd/g,Math.floor(99999999*Math.random()).toString()):Math.floor(99999999*Math.random()).toString()},Compile:function(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=JSON.parse(JSON.stringify(this.editor)),i=C(o);try{for(i.s();!(t=i.n()).done;){var n=t.value;delete n.selected,n.data=this.$refs[n.id][0].getData()}}catch(r){i.e(r)}finally{i.f()}return e&&this.$emit("Compiled",o),o},_setData:function(t){var e=this;this.editor=[];var o,i=C(t);try{for(i.s();!(o=i.n()).done;){var n=o.value;this.addBlockToEditor(n)}}catch(r){i.e(r)}finally{i.f()}this.$nextTick((function(){var o,i=C(t);try{var n=function(){var t=o.value;if(!e.editor.find((function(e){return e.id==t.id})))return"continue";e.$refs[t.id][0].setData(t.data)};for(i.s();!(o=i.n()).done;)n()}catch(r){i.e(r)}finally{i.f()}}))},importData:function(t){this.slotsMounted=0,this.slotsMustBeMounted=T(t)+t.length,this._setData(t)},Imported:function(){this.$emit("Imported"),this.history.compiled.push(this.Compile(!1))},BlockDragStart:function(t){var e=t.item.children[1].id,o=this.$refs[e][0],i=o.getData();window["tempDragDataBlockEditor_".concat(this.mainEditor()._uid)][e]=i},BlockDragEnd:function(t){var e=t.to.children[t.newDraggableIndex].children[1],o=e.id,i=this.editor.find((function(t){return t.id==o}));i&&(this.SlotClick(i),this.mainEditor().editorChanged(!0))},BlockDragAdded:function(t){var e=t.to.children[t.newDraggableIndex].children[1],o=e.id;if(window["tempDragDataBlockEditor_".concat(this.mainEditor()._uid)]){var i=window["tempDragDataBlockEditor_".concat(this.mainEditor()._uid)][o];if(i){var n=this.$refs[o][0];n.setData(i),window["tempDragDataBlockEditor_".concat(this.mainEditor()._uid)][o]={}}}var r=this.editor.find((function(t){return t.id==o}));r.selected=!1,r&&this.SlotClick(r),this.mainEditor().editorChanged(!0)},SlotClick:function(t,e,o){var i=this;t.selected||(this.mainEditor().setSelectedBlock(null),this.$nextTick((function(){i.mainEditor().setSelectedBlock(B({ref:i.$refs[t.id]},t)),i.unselectInBlockEditor(!0),t.selected=!0,i.setAvailableBlocks([],!0)}))),e&&e.stopPropagation()},setAvailableBlocks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=[];if(0==t.length){var i,n=this.mainEditor().registeredEditors.map((function(t){var e;return null===(e=t.$slots)||void 0===e?void 0:e.default})).flat().filter((function(t){return!I.includes(null===t||void 0===t?void 0:t.tag)})),r=[],a=C(n);try{var s=function(){var t=i.value;return t?r.find((function(e){var o,i,n,r;return(null!==e&&void 0!==e&&e.componentOptions?null===e||void 0===e||null===(o=e.componentOptions)||void 0===o?void 0:o.tag:null===(i=e.asyncMeta)||void 0===i?void 0:i.tag)==(null!==t&&void 0!==t&&t.componentOptions?null===t||void 0===t||null===(n=t.componentOptions)||void 0===n?void 0:n.tag:null===t||void 0===t||null===(r=t.asyncMeta)||void 0===r?void 0:r.tag)}))?"continue":void r.push(t):"continue"};for(a.s();!(i=a.n()).done;)s()}catch($){a.e($)}finally{a.f()}if(0==this.blocksInclude.length&&0==this.blocksExclude.length){var l,c=C(r);try{for(c.s();!(l=c.n()).done;){var d=l.value,u=d.data?d.data.attrs:d.asyncMeta.data.attrs,f=d.componentOptions?d.componentOptions.tag:d.asyncMeta.tag;o.push({name:u.name,proto_id:u.proto_id,tag:f,active:!0})}}catch($){c.e($)}finally{c.f()}}else{if(0==this.blocksInclude.length&&0!=this.blocksExclude.length){var h,p=C(r);try{for(p.s();!(h=p.n()).done;){var v=h.value,m=v.data?v.data.attrs:v.asyncMeta.data.attrs,b=v.componentOptions?v.componentOptions.tag:v.asyncMeta.tag;o.push({name:m.name,proto_id:m.proto_id,tag:b,active:!this.blocksExclude.includes(b)})}}catch($){p.e($)}finally{p.f()}}if(0!=this.blocksInclude.length&&0==this.blocksExclude.length){var y,g=C(r);try{for(g.s();!(y=g.n()).done;){var k=y.value,_=k.data?k.data.attrs:k.asyncMeta.data.attrs,E=k.componentOptions?k.componentOptions.tag:k.asyncMeta.tag;o.push({name:_.name,proto_id:_.proto_id,tag:E,active:this.blocksExclude.includes(E)})}}catch($){g.e($)}finally{g.f()}}if(0!=this.blocksInclude.length&&0!=this.blocksExclude.length){var B,w=C(r);try{for(w.s();!(B=w.n()).done;){var M=B.value,O=M.data?M.data.attrs:M.asyncMeta.data.attrs,S=M.componentOptions?M.componentOptions.tag:M.asyncMeta.tag;o.push({name:O.name,proto_id:O.proto_id,tag:S,active:this.blocksExclude.includes(S)&&!this.blocksExclude.includes(S)})}}catch($){w.e($)}finally{w.f()}}}}else o=t;this.availableBlocks=o,0==this.draggableClasses.length&&(this.draggableClasses=o.filter((function(t){return t.active})).map((function(t){return"slot-draggable-"+t.tag}))),0==this.activeTags.length&&(this.activeTags=o.filter((function(t){return t.active})).map((function(t){return t.tag}))),!this.isThisEditorIsMain()&&0==t.length&&e&&this.mainEditor().setAvailableBlocks(o),this.$forceUpdate()},editorClick:function(t){if(this.unselectInBlockEditor(!1,!0,!0),this.blockEditorSelected=!0,this.mainEditor().setSelectedBlock(null),this.setAvailableBlocks([],!0),t)return t.stopPropagation()},unselectInBlockEditor:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.blockEditorSelected=!1;var o,i=C(this.editor);try{for(i.s();!(o=i.n()).done;){var n=o.value;n.selected&&(n.selected=!1)}}catch(r){i.e(r)}finally{i.f()}this.$forceUpdate(),(t||e)&&this.mainEditor().unselectAllChildren(t,this.isThisEditorIsMain())},setSelectedBlock:function(t){this.selectedBlock=t},unselectAllChildren:function(){var t=arguments.length>1?arguments[1]:void 0;t!=this.isThisEditorIsMain()&&this.unselectInBlockEditor(!1,t);var e,o=C(this.editor);try{for(o.s();!(e=o.n()).done;){var i=e.value;this.$refs[i.id]&&this.$refs[i.id][0].unselectAllChildren(!1,!0)}}catch(n){o.e(n)}finally{o.f()}this.$forceUpdate()},mainEditor:function(){if(this._cachedMainEditor)return this._cachedMainEditor;for(var t=[],e=this.$parent;;){if(!e.$vnode)break;if("block-editor"==e.$vnode.componentOptions.Ctor.extendOptions.name&&t.push(e),!e.$parent)break;e=e.$parent}var o=t.slice(-1)[0];return o||(o=this),this._cachedMainEditor=o,o},registerEditor:function(t){this.registeredEditors.push(t)},isThisEditorIsMain:function(){if(null!=this.isThisMainEditor)return this.isThisMainEditor;var t=!1;return this._uid==this.mainEditor()._uid&&(t=!0),this.isThisMainEditor=t,t},editorChanged:function(t){var e=this;t&&this.$nextTick((function(){e.$emit("Changed"),e.history.compiled.push(e.Compile(!1)),e.history.compiled=e.history.compiled.slice(-e.historyLength),e.history.step=null}))},HistoryUndo:function(){null==this.history.current_parenttep?this.history.step=this.history.compiled.length-2:this.history.step=this.history.step-1,this.history.step<0||this._setData(this.history.compiled[this.history.step])},HistoryRedo:function(){null!=this.history.step&&(this.history.step=this.history.compiled.length-1,null==this.history.step?this._setData(this.history.compiled[this.history.compiled.slice(-1)]):this._setData(this.history.compiled[this.history.step]),this.history.step=null)}},mounted:function(){this.isThisEditorIsMain()&&(window["tempDragDataBlockEditor_".concat(this._uid)]||(window["tempDragDataBlockEditor_".concat(this._uid)]={})),this.layout_options=B(B({},this.layout_options),this.layout),0!=this.values.length?this.importData(this.values):this.history.compiled.push([]),this.mainEditor().registerEditor(this),this.setAvailableBlocks()}},P=j,L=(o("7710"),o("297d"),o("69cf"),Object(g["a"])(P,i,n,!1,null,"61fcf318",null));e["a"]=L.exports},d4cb:function(t,e){function o(t){return"function"===typeof t.value||(console.warn("[Vue-click-outside:] provided expression",t.expression,"is not a function."),!1)}function i(t,e){if(!t||!e)return!1;for(var o=0,i=e.length;o<i;o++)try{if(t.contains(e[o]))return!0;if(e[o].contains(t))return!1}catch(n){return!1}return!1}function n(t){return"undefined"!==typeof t.componentInstance&&t.componentInstance.$isServer}t.exports={bind:function(t,e,r){if(o(e)){t.__vueClickOutside__={handler:s,callback:e.value};var a="ontouchstart"in document.documentElement?"touchstart":"click";!n(r)&&document.addEventListener(a,s)}function s(e){if(r.context){var o=e.path||e.composedPath&&e.composedPath();o&&o.length>0&&o.unshift(e.target),t.contains(e.target)||i(r.context.popupItem,o)||t.__vueClickOutside__.callback(e)}}},update:function(t,e){o(e)&&(t.__vueClickOutside__.callback=e.value)},unbind:function(t,e,o){var i="ontouchstart"in document.documentElement?"touchstart":"click";!n(o)&&t.__vueClickOutside__&&document.removeEventListener(i,t.__vueClickOutside__.handler),delete t.__vueClickOutside__}}},da06:function(t,e,o){}});
//# sourceMappingURL=app.5da58a6f.js.map